{% extends "_layout.html" %}
{% block title %}Runs Overview — CodeCrafter{% endblock %}
{% block content %}
<section class="cc-card runs-card" id="runs-root" data-api-base="{{ api_base_url | e }}">
  <header class="runs-header">
    <div>
      <p class="runs-kicker">CodeCrafter2</p>
      <h1 class="runs-title">Runs overview</h1>
      <p class="runs-subtitle">Browse PT runs for a date and open the run sheet for each truck.</p>
    </div>
    <div class="runs-filters">
      <label for="runs-date">Date</label>
      <input type="date" id="runs-date" />

      <label for="runs-operator-filter">Operator</label>
      <select id="runs-operator-filter">
        <option value="">All operators</option>
        <option value="AJ">AJ</option>
        <option value="RB">RB</option>
        <option value="EG">EG</option>
        <option value="TH">TH</option>
        <option value="BM">BM</option>
        <option value="DW">DW</option>
        <option value="JSC">JSC</option>
      </select>

      <button class="cc-btn cc-btn--primary" id="runs-refresh" type="button">Refresh</button>
    </div>
  </header>

  <div id="runs-status" class="runs-status" role="status">Loading…</div>

  <div id="runs-cards" class="runs-cards" aria-live="polite"></div>

  <div id="run-sheet-section" class="run-sheet-section" style="display:none;">
    <div class="run-sheet-header">
      <h2 id="run-sheet-title">Run sheet</h2>
      <p class="runs-hint">Flights appear in sequence order. Status is planned unless updated later.</p>
    </div>
    <div class="run-sheet-table-wrapper">
      <table id="run-sheet-table" class="run-sheet-table">
        <thead>
          <tr>
            <th scope="col">Seq</th>
            <th scope="col">Time</th>
            <th scope="col">Flight</th>
            <th scope="col">Dest</th>
            <th scope="col">Operator</th>
            <th scope="col">Notes</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
        <tbody>
          <!-- Rows injected by JS -->
        </tbody>
      </table>
    </div>
  </div>
</section>

<script src="{{ url_for('static', filename='js/runs.js') }}"></script>
{% endblock %}
