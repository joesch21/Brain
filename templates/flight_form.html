{% extends "_layout.html" %}
{% block title %}{% if flight %}Edit{% else %}New{% endif %} Flight{% endblock %}
{% block content %}
<style>
  .card { background: var(--elev); border: 1px solid var(--line); border-radius: var(--radius); padding: var(--pad); box-shadow: var(--shadow); max-width: 820px; margin: 0 auto; }
  .card h1 { margin-top: 0; }
  .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; }
  .form-grid label { color: var(--muted); font-weight: 600; }
  .form-grid input { width: 100%; padding: 0.6rem 0.75rem; border-radius: 12px; border: 1px solid var(--line); background: var(--surface); color: var(--text); }
  .form-actions { display: flex; gap: 0.75rem; margin-top: 1rem; align-items: center; }
  .btn-primary { background: var(--accent); color: var(--accent-ink); border: none; border-radius: 12px; padding: 0.7rem 1.1rem; font-weight: 700; cursor: pointer; text-decoration: none; }
  .btn-secondary { border: 1px solid var(--line); color: var(--text); border-radius: 12px; padding: 0.65rem 1rem; text-decoration: none; }
</style>

<section class="card">
  <h1>{% if flight %}Edit{% else %}New{% endif %} Flight</h1>

  <form method="post" class="form-grid">
    <label>
      Flight number
      <input type="text" name="flight_number" required value="{{ flight.flight_number if flight else '' }}" />
    </label>

    <label>
      Airline
      <input type="text" name="airline" required value="{{ flight.airline if flight else '' }}" />
    </label>

    <label>
      ETA (local)
      <input type="datetime-local" name="eta" required value="{{ eta_value if flight else '' }}" />
    </label>

    <label>
      Bay
      <input type="text" name="bay" value="{{ flight.bay if flight and flight.bay else '' }}" />
    </label>

    <label>
      Fuel (tonnes)
      <input type="number" step="0.1" min="0" name="fuel_tonnes" value="{{ flight.fuel_tonnes if flight and flight.fuel_tonnes is not none else '' }}" />
    </label>

    <label>
      Status
      <input type="text" name="status" placeholder="Scheduled / Delayed / Completed" value="{{ flight.status if flight else 'Scheduled' }}" />
    </label>

    <div class="form-actions">
      <button type="submit" class="btn-primary">{% if flight %}Save Changes{% else %}Create Flight{% endif %}</button>
      <a href="{{ url_for('schedule_page') }}" class="btn-secondary">Cancel</a>
    </div>
  </form>
</section>
{% endblock %}
