{% extends "_layout.html" %}
{% block title %}{% if flight %}Edit{% else %}New{% endif %} Flight{% endblock %}
{% block content %}
<style>
  .card { background: var(--elev); border: 1px solid var(--line); border-radius: var(--radius); padding: var(--pad); box-shadow: var(--shadow); max-width: 820px; margin: 0 auto; }
  .card h1 { margin-top: 0; }
  .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; }
  .form-grid label { color: var(--muted); font-weight: 600; }
  .form-grid input { width: 100%; padding: 0.6rem 0.75rem; border-radius: 12px; border: 1px solid var(--line); background: var(--surface); color: var(--text); }
  .form-actions { display: flex; gap: 0.75rem; margin-top: 1rem; align-items: center; }
  .btn-primary { background: var(--accent); color: var(--accent-ink); border: none; border-radius: 12px; padding: 0.7rem 1.1rem; font-weight: 700; cursor: pointer; text-decoration: none; }
  .btn-secondary { border: 1px solid var(--line); color: var(--text); border-radius: 12px; padding: 0.65rem 1rem; text-decoration: none; }
</style>

<section class="card">
  <h1>{% if flight %}Edit{% else %}New{% endif %} Flight</h1>

  <form method="post" class="form-grid">
    <label>
      Flight number
      <input type="text" name="flight_number" required value="{{ flight.flight_number if flight else '' }}" />
    </label>

    <label>
      Date
      <input type="date" name="date" required value="{{ flight.date if flight else '' }}" />
    </label>

    <label>
      Origin
      <input type="text" name="origin" value="{{ flight.origin if flight else '' }}" />
    </label>

    <label>
      Destination
      <input type="text" name="destination" value="{{ flight.destination if flight else '' }}" />
    </label>

    <label>
      ETA (local)
      <input type="time" name="eta_local" value="{{ eta_value if flight else '' }}" />
    </label>

    <label>
      ETD (local)
      <input type="time" name="etd_local" value="{{ etd_value if flight else '' }}" />
    </label>

    <label>
      Tail number
      <input type="text" name="tail_number" value="{{ flight.tail_number if flight else '' }}" />
    </label>

    <label>
      Truck assignment
      <input type="text" name="truck_assignment" value="{{ flight.truck_assignment if flight else '' }}" />
    </label>

    <label>
      Status
      <input type="text" name="status" placeholder="planned / fueling / done / cancelled" value="{{ flight.status if flight else '' }}" />
    </label>

    <label>
      Notes
      <input type="text" name="notes" value="{{ flight.notes if flight else '' }}" />
    </label>

    <div class="form-actions">
      <button type="submit" class="btn-primary">{% if flight %}Save Changes{% else %}Create Flight{% endif %}</button>
      <a href="{{ url_for('schedule_page') }}" class="btn-secondary">Cancel</a>
    </div>
  </form>
</section>
{% endblock %}
